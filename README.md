# Typescript Fullstack Project

This is the Bootcamp's Project Monorepo.

# Frontend side technical details

## Tech stack:

- Content manager: Redux toolkit
- Routing: React router dom
- Css framework: Tailwind

## Design patterns:

- Modular design: breaking down the application into smaller, self contained modules
- Feature-based structure: organizing files by feature or functionality
- Container-presenter: separating container component (handles state and logic) from presentational (handle UI)

## Directory Structure:

| Directory | Description | Notes |
|-----------|-------------|-------|
| /src/api      | API calls and services |       |
| /src/components    | reusable components  |       |
| /src/components/redux   | redux store|       |
| /src/components/ui   | UI components|       |
| /routes  | route definitions     |       |
| /types     | Typescript types   |       |

## Walkthrough video series
- [Dashboard layout part 1](https://youtu.be/gjYtTSeWzqU)
- [Dashboard layout part 2](https://youtu.be/3eLndynypi8)
- [Displaying mocking data](https://youtu.be/x74WC-VQ3_0)
- [Sort and searching ops](https://youtu.be/eJSMetlbcQo)
- [Product details and Shopping Cart](https://youtu.be/hdzUp9P6oBE)
- [Loading categories from the backend](https://youtu.be/Y7srodNqU2M)
- [Proof of Concept](https://youtu.be/2UCt9PVcyog)
- [Dockerizing the project](https://youtu.be/T4Wgk1A-oyY)

# Server side technical details

## Data layer

- Postgres DBMS
- Prisma as ORM
- Please refer to the next E-R diagram for in depth details of the data layer
- ![e_r_diagram](./apps/server/dev/erd.svg)
- The diagram was generated based on the schema.prisma file and using [prisma-erd](https://prisma-erd.simonknott.de)

## Design patterns
- Since prisma generate a scaffold of the entities and the needed types a good option to use as a pattern is the [Repository pattern](https://martinfowler.com/eaaCatalog/repository.html), please refer to the server/src/api where you can find its implementation.

- With the intention to manage properly the connection data pool between the backend and the data layer I'm applying the [singleton design pattern](https://refactoring.guru/design-patterns/singleton), please refer to the module server/src/api/prismaClient.ts

## Directory structure:

The business logic of the backend is located in the path app/server/src

| Directory | Description | Notes |
|-----------|-------------|-------|
| /api      | Businness logic |       |
| /api/controllers    | controller modules per each entity files  |       |
| /api/repositories   | repo modules per each entity|       |
| /api/routes   | Express route modules for available endpoints|       |
| /api/services  | service modules per each entity     |       |
| /config     | enviro vars and script to setup the server   |       |
| /utils     | data seeding script based on enviro status   |       |

The backend has a set of additional directories that are key part to understand the approach:

| Directory | Description | Notes |
|-----------|-------------|-------|
| /server/container     | Dockerfiles for the data layer and for the backend   |       |
| /server/dev     | images and other resources needed by the README   |       |
| /server/postman     | Postman json file with the needed endpoint's tests   |       |
| /server/prisma     | prisma scaffold autogenerated   |       |

Also, please refer to the .example files which are the scaffold files to manage sensitive information.

# Install and setup

## Apps and Packages

- `server`: an [express](https://expressjs.com/) server app
- `client`: a react [vite](https://vitejs.dev) ts app
- `@repo/eslint-config`: shared `eslint` configurations
- `@repo/typescript-config`: `tsconfig.json`s used throughout the monorepo

## Get Started

### Pre Requisites

1. Install [Docker Desktop](https://docs.docker.com/get-started/get-docker/) and pull [PostgreSQL Image](https://hub.docker.com/_/postgres).
2. Install [Volta](https://docs.volta.sh/guide/getting-started) and [enable PNPM support](https://docs.volta.sh/advanced/pnpm).

### Install Dependencies

In the root directory open a terminal and install Node.js and PNPM using volta:

```
volta install node
```

```
volta install pnpm
```

Install the project dependencies:

```
pnpm install
```

### Run Applications

This monorepo is configured with [Turborepo](https://turbo.build/repo/docs). You will find the available tasks in [turbo.json](./turbo.json) file. You can run a task like the following. Note that all commands are used with `pnpm exec`, the purpose is to use the local project's Turborepo dependency and not a global one.

```bash
pnpm exec turbo <task-name>

# Examples
pnpm exec turbo dev
pnpm exec turbo build
pnpm exec turbo start
```

> Please refer to the official [Turborepo documentation](https://turbo.build/repo/docs/crafting-your-repository/running-tasks) to learn more on running tasks.
